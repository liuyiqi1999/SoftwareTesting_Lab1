{"remainingRequest":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/src/views/LoanRepayment/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/src/views/LoanRepayment/Index.vue","mtime":1617949291130},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hVc2VyIGZyb20gIkAvY29tcG9uZW50cy9TZWFyY2hVc2VyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW5kZXgiLAogIGNvbXBvbmVudHM6IHtTZWFyY2hVc2VyfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgY29kZTogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcXVlcnlEYXRhKGdldFBhdGgpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoZ2V0UGF0aCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIH0pCiAgICB9LAogICAgc2hvd0RhdGEoZGF0YSkgewogICAgICBsZXQgY3VzdG9tZXIgPSBkYXRhCiAgICAgIHRoaXMuY29kZSA9IGRhdGEuY29kZQogICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWUKICAgICAgbGV0IGxvYW5zID0gdGhpcy5nZXRMb2FuTGlzdChjdXN0b21lci5jb2RlKQogICAgICBmb3IobGV0IGk9MDtpPGxvYW5zLmxlbmd0aDtpKyspewogICAgICAgIGxldCB0ZW1wID0ge30KICAgICAgICB0ZW1wLmlvdU51bSA9IGxvYW5zW2ldLmlvdU51bQogICAgICAgIHN3aXRjaCAobG9hbnNbaV0uc3RhdHVzKSB7CiAgICAgICAgICBjYXNlIDA6IHRlbXAuc3RhdHVzID0gIum7mOiupCIKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICBjYXNlIDE6IHRlbXAuc3RhdHVzID0gIumAvuacn++8jOaciee9mumHkeacqui/mCIKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICBjYXNlIDI6IHRlbXAuc3RhdHVzID0gIumAvuacn++8jOW3sui/mOe9mumHkSIKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICBjYXNlIDM6IHRlbXAuc3RhdHVzID0gIuato+W4uOi/mOasviIKICAgICAgICB9CiAgICAgICAgdGVtcC5vdmVyZHVlQW1vdW50ID0gbG9hbnNbaV0ub3ZlcmR1ZUFtb3VudAogICAgICAgIHRlbXAuY3JlYXRlVGltZSA9IGxvYW5zW2ldLmNyZWF0ZVRpbWUKICAgICAgICB0ZW1wLnByb2R1Y3ROYW1lID0gbG9hbnNbaV0ucHJvZHVjdE5hbWUKICAgICAgICB0ZW1wLnByb2R1Y3RDb2RlID0gbG9hbnNbaV0ucHJvZHVjdENvZGUKICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKHRlbXApCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRMb2FuTGlzdChjb2RlKSB7CiAgICAgIGxldCBsb2FuTGlzdCA9IGF3YWl0IHRoaXMucXVlcnlEYXRhKCcvbG9hbi9saXN0P2NvZGU9Jytjb2RlKQogICAgICBsZXQgbG9hbnMgPSBbXQogICAgICBmb3IobGV0IGk9MDtpPGxvYW5MaXN0Lmxlbmd0aDtpKyspewogICAgICAgIGxldCBsb2FuID0gYXdhaXQgdGhpcy5xdWVyeURhdGEoJy9sb2FuL3Byb2R1Y3Q/aW91TnVtPScrbG9hbkxpc3RbaV0pCiAgICAgICAgbG9hbnMucHVzaChsb2FuKQogICAgICB9CiAgICAgIHJldHVybiBsb2FucwogICAgfSwKICAgIHJlcGF5QWxsKHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cpCiAgICB9LAogICAgcmVwYXlQYXJ0KHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cpCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/LoanRepayment","sourcesContent":["<template>\n  <div>\n    <SearchUser @search-user-event=\"showData\"/>\n    <el-table\n        :data=\"tableData\"\n        border\n        style=\"margin-top: 30px\">\n      <el-table-column\n          prop=\"iouNum\"\n          label=\"借据号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"customerCode\"\n          label=\"客户号\">\n        {{code}}\n      </el-table-column>\n      <el-table-column\n          prop=\"customerName\"\n          label=\"客户名\">\n        {{name}}\n      </el-table-column>\n      <el-table-column\n          prop=\"loanStatus\"\n          label=\"贷款状态\"\n          width=\"50\">\n      </el-table-column>\n      <el-table-column\n          prop=\"productName\"\n          label=\"贷款产品\">\n      </el-table-column>\n      <el-table-column\n          prop=\"productCode\"\n          label=\"贷款产品编号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"overdueAmount\"\n          label=\"逾期金额(元)\">\n      </el-table-column>\n      <el-table-column\n          prop=\"createTime\"\n          label=\"发放日期\">\n      </el-table-column>\n      <el-table-column\n          prop=\"actions\"\n          label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"repayAll(scope.row)\" type=\"text\" size=\"small\">全部还款</el-button>\n          <el-button @click=\"repayPart(scope.row)\" type=\"text\" size=\"small\">部分还款</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport SearchUser from \"@/components/SearchUser\";\n\nexport default {\n  name: \"Index\",\n  components: {SearchUser},\n  data() {\n    return {\n      tableData: [],\n      code: \"\",\n      name: \"\",\n    }\n  },\n  methods: {\n    queryData(getPath) {\n      this.axios.get(getPath)\n          .then(response => {\n            return response.data\n          })\n          .catch(error => {\n            console.log(error)\n          })\n    },\n    showData(data) {\n      let customer = data\n      this.code = data.code\n      this.name = data.name\n      let loans = this.getLoanList(customer.code)\n      for(let i=0;i<loans.length;i++){\n        let temp = {}\n        temp.iouNum = loans[i].iouNum\n        switch (loans[i].status) {\n          case 0: temp.status = \"默认\"\n                break\n          case 1: temp.status = \"逾期，有罚金未还\"\n                break\n          case 2: temp.status = \"逾期，已还罚金\"\n                break\n          case 3: temp.status = \"正常还款\"\n        }\n        temp.overdueAmount = loans[i].overdueAmount\n        temp.createTime = loans[i].createTime\n        temp.productName = loans[i].productName\n        temp.productCode = loans[i].productCode\n        this.tableData.push(temp)\n      }\n    },\n    async getLoanList(code) {\n      let loanList = await this.queryData('/loan/list?code='+code)\n      let loans = []\n      for(let i=0;i<loanList.length;i++){\n        let loan = await this.queryData('/loan/product?iouNum='+loanList[i])\n        loans.push(loan)\n      }\n      return loans\n    },\n    repayAll(row) {\n      console.log(row)\n    },\n    repayPart(row) {\n      console.log(row)\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}