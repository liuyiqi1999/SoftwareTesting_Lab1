{"remainingRequest":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/src/views/LoanRepayment/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/src/views/LoanRepayment/Index.vue","mtime":1618043248110},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyiqi/NutstoreFiles/同步文档/2020第二学期课程/软件测试/lab1/SoftwareTesting_Lab1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hVc2VyIGZyb20gIkAvY29tcG9uZW50cy9TZWFyY2hVc2VyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbmRleCIsCiAgY29tcG9uZW50czoge1NlYXJjaFVzZXJ9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBjb2RlOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBxdWVyeURhdGEoZ2V0UGF0aCkgewogICAgICB0aGlzLmF4aW9zLmdldChnZXRQYXRoKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgfSkKICAgIH0sCiAgICBzaG93RGF0YShkYXRhKSB7CiAgICAgIGxldCBjdXN0b21lciA9IGRhdGEKICAgICAgdGhpcy5jb2RlID0gZGF0YS5jb2RlCiAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZQogICAgICBsZXQgbG9hbnMgPSB0aGlzLmdldExvYW5MaXN0KGN1c3RvbWVyLmNvZGUpCiAgICAgIGZvcihsZXQgaT0wO2k8bG9hbnMubGVuZ3RoO2krKyl7CiAgICAgICAgbGV0IHRlbXAgPSB7fQogICAgICAgIHRlbXAuaW91TnVtID0gbG9hbnNbaV0uaW91TnVtCiAgICAgICAgc3dpdGNoIChsb2Fuc1tpXS5zdGF0dXMpIHsKICAgICAgICAgIGNhc2UgMDogdGVtcC5zdGF0dXMgPSAi6buY6K6kIgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIGNhc2UgMTogdGVtcC5zdGF0dXMgPSAi6YC+5pyf77yM5pyJ572a6YeR5pyq6L+YIgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIGNhc2UgMjogdGVtcC5zdGF0dXMgPSAi6YC+5pyf77yM5bey6L+Y572a6YeRIgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIGNhc2UgMzogdGVtcC5zdGF0dXMgPSAi5q2j5bi46L+Y5qy+IgogICAgICAgIH0KICAgICAgICB0ZW1wLm92ZXJkdWVBbW91bnQgPSBsb2Fuc1tpXS5vdmVyZHVlQW1vdW50CiAgICAgICAgdGVtcC5jcmVhdGVUaW1lID0gbG9hbnNbaV0uY3JlYXRlVGltZQogICAgICAgIHRlbXAucHJvZHVjdE5hbWUgPSBsb2Fuc1tpXS5wcm9kdWN0TmFtZQogICAgICAgIHRlbXAucHJvZHVjdENvZGUgPSBsb2Fuc1tpXS5wcm9kdWN0Q29kZQogICAgICAgIHRoaXMudGFibGVEYXRhLnB1c2godGVtcCkKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldExvYW5MaXN0KGNvZGUpIHsKICAgICAgbGV0IGxvYW5MaXN0ID0gYXdhaXQgdGhpcy5xdWVyeURhdGEoJy9sb2FuL2xpc3Q/Y29kZT0nK2NvZGUpCiAgICAgIGxldCBsb2FucyA9IFtdCiAgICAgIGZvcihsZXQgaT0wO2k8bG9hbkxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgbGV0IGxvYW4gPSBhd2FpdCB0aGlzLnF1ZXJ5RGF0YSgnL2xvYW4vcHJvZHVjdD9pb3VOdW09Jytsb2FuTGlzdFtpXSkKICAgICAgICBsb2Fucy5wdXNoKGxvYW4pCiAgICAgIH0KICAgICAgcmV0dXJuIGxvYW5zCiAgICB9LAogICAgcmVwYXlBbGwocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0sCiAgICByZXBheVBhcnQocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/LoanRepayment","sourcesContent":["<template>\n  <div>\n    <SearchUser @search-user-event=\"showData\"/>\n    <el-table\n        :data=\"tableData\"\n        border\n        style=\"margin-top: 30px\">\n      <el-table-column\n          prop=\"iouNum\"\n          label=\"借据号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"customerCode\"\n          label=\"客户号\">\n        {{code}}\n      </el-table-column>\n      <el-table-column\n          prop=\"customerName\"\n          label=\"客户名\">\n        {{name}}\n      </el-table-column>\n      <el-table-column\n          prop=\"loanStatus\"\n          label=\"贷款状态\"\n          width=\"50\">\n      </el-table-column>\n      <el-table-column\n          prop=\"productName\"\n          label=\"贷款产品\">\n      </el-table-column>\n      <el-table-column\n          prop=\"productCode\"\n          label=\"贷款产品编号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"overdueAmount\"\n          label=\"逾期金额(元)\">\n      </el-table-column>\n      <el-table-column\n          prop=\"createTime\"\n          label=\"发放日期\">\n      </el-table-column>\n      <el-table-column\n          prop=\"actions\"\n          label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"repayAll(scope.row)\" type=\"text\" size=\"small\">全部还款</el-button>\n          <el-button @click=\"repayPart(scope.row)\" type=\"text\" size=\"small\">部分还款</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport SearchUser from \"@/components/SearchUser\";\nexport default {\n  name: \"Index\",\n  components: {SearchUser},\n  data() {\n    return {\n      tableData: [],\n      code: \"\",\n      name: \"\",\n    }\n  },\n  methods: {\n    queryData(getPath) {\n      this.axios.get(getPath)\n          .then(response => {\n            return response.data\n          })\n          .catch(error => {\n            console.log(error)\n          })\n    },\n    showData(data) {\n      let customer = data\n      this.code = data.code\n      this.name = data.name\n      let loans = this.getLoanList(customer.code)\n      for(let i=0;i<loans.length;i++){\n        let temp = {}\n        temp.iouNum = loans[i].iouNum\n        switch (loans[i].status) {\n          case 0: temp.status = \"默认\"\n                break\n          case 1: temp.status = \"逾期，有罚金未还\"\n                break\n          case 2: temp.status = \"逾期，已还罚金\"\n                break\n          case 3: temp.status = \"正常还款\"\n        }\n        temp.overdueAmount = loans[i].overdueAmount\n        temp.createTime = loans[i].createTime\n        temp.productName = loans[i].productName\n        temp.productCode = loans[i].productCode\n        this.tableData.push(temp)\n      }\n    },\n    async getLoanList(code) {\n      let loanList = await this.queryData('/loan/list?code='+code)\n      let loans = []\n      for(let i=0;i<loanList.length;i++){\n        let loan = await this.queryData('/loan/product?iouNum='+loanList[i])\n        loans.push(loan)\n      }\n      return loans\n    },\n    repayAll(row) {\n      console.log(row)\n    },\n    repayPart(row) {\n      console.log(row)\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}